　　变量是几乎所有编程语言中最基本的组成元素。从根本上说，变量相当于是对一块数据存储空间的命名，程序可以通过定义一个变量来申请一块数据存储空间，之后可以通过引用变量名来使用这块存储空间。

# 声明变量

　　Go 语言的变量声明方式与 C 和 C++ 语言有明显的不同。对于纯粹的变量声明，Go语 言引入了
关键字 `var`，而类型信息放在变量名之后，示例如下：

```
var v1 int
var v2 string
var v3 [10]int // 数组
var v4 []int // 数组切片
var v5 struct {
	f int
}
var v6 *int // 指针
var v7 map[string]int // map，key为string类型，value为int类型
var v8 func(a int) int
```

　　变量声明语句不需要使用分号作为结束符。与 C 语言相比，Go 语言摒弃了语句必须以分号作为语句结束标记的习惯。

　　var 关键字的另一种用法是可以将若干个需要声明的变量放置在一起，免得程序员需要重复写 var 关键字，如下所示：

```
var (
	v1 int
	v2 string
)
```

# 变量初始化

　　对于声明变量时需要进行初始化的场景，var 关键字可以保留，但不再是必要的元素，如下所示：

```
var v1 int = 10 // 正确的使用方式1
var v2 = 10 	// 正确的使用方式2，编译器可以自动推导出v2的类型
v3 := 10 		// 正确的使用方式3，编译器可以自动推导出v3的类型
```

　　以上三种用法的效果是完全一样的。与第一种用法相比，第三种用法需要输入的字符数大大减少，是懒程序员和聪明程序员的最佳选择。这里 Go 语言也引入了另一个 C 和 C++ 中没有的符号（冒号和等号的组合 `:=`），用于明确表达同时进行变量声明和初始化的工作。

　　指定类型已不再是必需的，Go 编译器可以从初始化表达式的右值推导出该变量应该声明为哪种类型，这让 Go 语言看起来有点像动态类型语言，尽管 Go 语言实际上是不折不扣的强类型语言（静态类型语言）。

　　当然，出现在 `:=` 左侧的变量不应该是已经被声明过的，否则会导致编译错误，比如下面这个写法：

```
var i int
i := 2
```

　　会导致类似如下的编译错误：

```
no new variables on left side of :=
```

# 变量赋值

　　在 Go 语法中，变量初始化和变量赋值是两个不同的概念。下面为声明一个变量之后的赋值过程：

```
var v10 int
v10 = 123
```

　　Go 语言的变量赋值与多数语言一致，但 Go 语言中提供了 C/C++ 程序员期盼多年的多重赋值功能，比如下面这个交换 i 和 j 变量的语句：

```
i, j = j, i
```

　　在不支持多重赋值的语言中，交互两个变量的内容需要引入一个中间变量：

```
t = i; i = j; j = t;
```

　　多重赋值的特性在 Go 语言库的实现中也被使用得相当充分。总而言之，多重赋值功能让 Go 语言与 C/C++ 语言相比可以非常明显地减少代码行数。

# 匿名变量

　　我们在使用传统的强类型语言编程时，经常会出现这种情况，即在调用函数时为了获取一个值，却因为该函数返回多个值而不得不定义一堆没用的变量。在 Go 中这种情况可以通过结合使用多重返回和匿名变量来避免这种丑陋的写法，让代码看起来更加优雅。

　　假设 GetName() 函数的定义如下，它返回3个值，分别为 firstName、lastName 和 nickName：

```
func GetName() (firstName, lastName, nickName string) {
	return "May", "Chan", "Chibi Maruko"
}
```

　　若只想获得 nickName，则函数调用语句可以用如下方式编写：

```
_, _, nickName := GetName()
```

　　这种用法可以让代码非常清晰，基本上屏蔽掉了可能混淆代码阅读者视线的内容，从而大幅降低沟通的复杂度和代码维护的难度。

> 　　参考：《Go语言编程》
